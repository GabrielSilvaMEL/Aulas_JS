<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Formulario</title>
    <link rel="stylesheet" href="/styles/at2.css">
</head>
<body>
    <div class="pergunta">
            <label for="marca" class="label">Digite a marca:</label>
            <input type="text" id="marca" class="digitavel"> <br>

            <label for="modelo" class="label">Digite o modelo:</label>
            <input type="text" id="modelo" class="digitavel"> <br>

            <label for="ano" class="label">Digite o ano:</label>
            <input type="text" id="ano" class="digitavel"> <br>

            <label for="cor" class="label">Digite a cor:</label>
            <input type="text" id="cor" class="digitavel"> <br>

            <label for="km" class="label">Digite a kilometragem:</label>
            <input type="text" id="km" class="digitavel"> <br>

            <label for="fipe" class="label">Digite o valor na tabela fipe:</label>
            <input type="text" id="fipe" class="digitavel"> <br>

    <button id="add" class="botaoverificar">Verificar</button>

    <button class="botaovolta"><a class="botaovolta-clicavel" href="/index.html">Voltar</a></button>

    </div>

    <script type="text/javascript">
        var carro = {
        marca:"",
        modelo:"",
        ano:0,
        cor:"",
        km:0,
        valor_fipe:0,
    }

    function Carro(){
        let marca, modelo, ano, cor, km, valor_fipe;

        this.setMarca = function(vMarca){
            this.marca = vMarca;
        }
        this.getMarca = function(){
            return this.marca;
        }

        this.setModelo = function(vModelo){
            this.modelo = vModelo;
        }
        this.getModelo = function(){
            return this.modelo;
        }

        this.setAno = function(vAno){
            this.ano = vAno;
        }
        this.getAno= function(){
            return this.ano;
        }

        this.setCor= function(vCor){
            this.cor = vCor;
        }
        this.getCor= function(){
            return this.cor;
        }

        this.setKm = function(vKm){
            this.km = vKm;
        }
        this.getKm= function(){
            return this.km;
        }

        this.setFipe = function(vFipe){
            this.fipe = vFipe;
        }
        this.getFipe= function(){
            return this.fipe;
        }
        function anosUtilizacao(){
            var data = new Date();
            var dataAtual = data.getFullYear();
            var dataUsada = dataAtual - carro.ano;
            return dataUsada;
        }
        function valorMercado(){
                var valorMercado = 0;
                var dataUssada = anosUtilizacao();
                var pAno = carro.km / dataUssada ;
                if (pAno<=30000){
                    valorMercado = carro.valor_fipe * 1.10;
                }
                else if(30000 < pAno & pAno < 50000){
                    valorMercado = carro.valor_fipe;
                }
                else if(pAno > 50000){
                    valorMercado = carro.valor_fipe * 0.9;
                    
                }
                return valorMercado;
        }
    };

        document.getElementById("add").addEventListener("click",function(){
            
            let carro = new Carro();
                  
            carro.valorMercado();
            carro.anosUtilizacao();

            document.write("Valor do mercado: " + carro.valorMercado()); 
            document.write("Anos de utilização do carro: " + carro.anosUtilizacao());
        });
    </script>
    
</body>